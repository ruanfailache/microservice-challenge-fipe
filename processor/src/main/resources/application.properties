quarkus.application.name=fipe-processor

quarkus.http.port=8081

quarkus.rest-client.fipe-api.url=https://parallelum.com.br/fipe/api/v1
quarkus.rest-client.fipe-api.scope=jakarta.inject.Singleton
quarkus.rest-client.fipe-api.connect-timeout=10000
quarkus.rest-client.fipe-api.read-timeout=30000

quarkus.rest-client.user-service.url=http://localhost:8082
quarkus.rest-client.user-service.scope=jakarta.inject.Singleton
quarkus.rest-client.user-service.connect-timeout=5000
quarkus.rest-client.user-service.read-timeout=10000

quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=fipe
quarkus.datasource.password=fipe
quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/fipe_processor

quarkus.hibernate-orm.log.sql=false
quarkus.liquibase.migrate-at-start=true

quarkus.liquibase.change-log=db/changelog/db.changelog-master.xml

quarkus.smallrye-openapi.path=/swagger

quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui

quarkus.log.level=INFO
quarkus.log.category."com.fipe".level=INFO
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

kafka.bootstrap.servers=localhost:9092

mp.messaging.incoming.vehicle-data-in.connector=smallrye-kafka
mp.messaging.incoming.vehicle-data-in.topic=vehicle-data
mp.messaging.incoming.vehicle-data-in.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.vehicle-data-in.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.vehicle-data-in.auto.offset.reset=earliest
mp.messaging.incoming.vehicle-data-in.group.id=fipe-processor-group
mp.messaging.incoming.vehicle-data-in.enable.auto.commit=false
mp.messaging.incoming.vehicle-data-in.failure-strategy=dead-letter-queue
mp.messaging.incoming.vehicle-data-in.dead-letter-queue.topic=vehicle-data-dlq
mp.messaging.incoming.vehicle-data-in.dead-letter-queue.max-retries=3
mp.messaging.incoming.vehicle-data-in.dead-letter-queue.retry-backoff=10000
mp.messaging.incoming.vehicle-data-in.throttled.unprocessed-record-max-age.ms=60000

mp.messaging.incoming.vehicle-data-dlq.connector=smallrye-kafka
mp.messaging.incoming.vehicle-data-dlq.topic=vehicle-data-dlq
mp.messaging.incoming.vehicle-data-dlq.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.vehicle-data-dlq.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.vehicle-data-dlq.group.id=fipe-processor-dlq-group

mp.messaging.outgoing.fallback-dlq-out.connector=smallrye-kafka
mp.messaging.outgoing.fallback-dlq-out.topic=vehicle-data-dlq
mp.messaging.outgoing.fallback-dlq-out.value.serializer=org.apache.kafka.common.serialization.StringSerializer
mp.messaging.outgoing.fallback-dlq-out.key.serializer=org.apache.kafka.common.serialization.StringSerializer

mp.fault-tolerance.fipe-api-circuit-breaker.request-volume-threshold=10
mp.fault-tolerance.fipe-api-circuit-breaker.failure-ratio=0.5
mp.fault-tolerance.fipe-api-circuit-breaker.delay=30000
mp.fault-tolerance.fipe-api-circuit-breaker.success-threshold=5
